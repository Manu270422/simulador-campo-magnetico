<!DOCTYPE html>

<html lang="es">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Simulador - Imán en Barra</title>

  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/iman_barra.css">

</head>

<body>

  <div class="sim-container">

    <a href="index.html" class="back-btn">← Volver al inicio</a>

    <canvas id="sim-canvas"></canvas>

    <div class="control-panel">

      <h2>Imán en Barra (Dipolo)</h2>

      <label class="slider-label">Intensidad Magnética (M)</label>

      <div class="slider-container">

        <span>0%</span>

        <input type="range" id="intensity" min="0" max="100" value="75" />

        <span>100%</span>

      </div>

      <button id="invertPolarity" class="invert-btn">Invertir Polos (N↔S)</button>

      <hr />

      <h3>Visualización del Campo (B)</h3>

      <div class="checkboxes">

        <label><input type="checkbox" id="showField" checked /> Mostrar Campo (B)</label>

        <label class="sub-option"><input type="checkbox" id="showFilings" /> Mostrar Limaduras (Densidad)</label>

        <label><input type="checkbox" id="seeInside" /> Ver Campo Interno</label>

      </div>

      <hr />

      <h3>Herramientas Interactivas</h3>

      <div class="checkboxes">

        <label><input type="checkbox" id="showCompass" checked /> Brújula Interactiva</label>

        <label><input type="checkbox" id="fieldMeter" /> Medidor de Campo (B)</label>

      </div>

      <hr />

      <h3>Interacción y Tierra</h3>

      <div class="checkboxes">

        <label><input type="checkbox" id="showCoil" /> Mostrar Bobina (Fuerza de Lorentz)</label>

        <label><input type="checkbox" id="earthField" /> Campo Magnético Tierra</label>

      </div>

      <button id="invertCoil" class="action-btn hidden">Invertir Batería (I)</button>


      <div class="field-interaction">

        <button id="launchParticleBtn" class="action-btn" disabled>Lanzar Partícula (Próxima Fase)</button>

      </div>

      </div>

    <button id="resetBtn" class="reset-btn" title="Reiniciar simulador">&#x21bb;</button>

  </div>

<style>

    /* Estilos base (limpios de caracteres raros) */

    .sim-container {

      position: relative; 

      width: 100vw;

      height: 100vh;

      overflow: hidden;

    }

    #sim-canvas {

      position: absolute;

      top: 0;

      left: 0;

      width: 100%;

      height: 100%;

      background-color: #111; /* Oscuro mejor que negro puro */

      z-index: 1;

    }

    .control-panel {

      position: absolute;

      top: 20px;

      right: 20px;

      z-index: 10;

      background: rgba(34, 34, 34, 0.9);

      padding: 20px;

      border-radius: 10px;

      color: white;

      font-family: Arial, sans-serif;

      max-width: 300px;

    }

    .control-panel h2, .control-panel h3 {

      font-family: 'Orbitron', sans-serif;

      color: #00FFFF;

      text-align: center;

      margin-top: 5px;

      margin-bottom: 10px;

      text-shadow: 0 0 5px rgba(0,255,255,0.5);

    }

    .control-panel hr {

        border-color: #333;

    }

    .checkboxes label {

        display: block;

        margin-bottom: 5px;

    }

    .sub-option {

        margin-left: 20px;

        font-size: 0.9em;

        opacity: 0.8;

    }

    .back-btn {

      position: absolute;

      top: 20px;

      left: 20px;

      z-index: 10;

      color: #00FFFF;

      text-decoration: none;

      font-size: 1.2em;

      padding: 5px 10px;

      background: rgba(34, 34, 34, 0.8);

      border-radius: 5px;

    }

    .reset-btn {

      position: absolute;

      bottom: 20px;

      right: 20px;

      z-index: 10;

      font-size: 1.5em;

      background: #dc3545;

      color: white;

      border: none;

      border-radius: 50%;

      width: 50px;

      height: 50px;

      cursor: pointer;

      box-shadow: 0 0 10px rgba(255, 0, 0, 0.7);

    }

    .invert-btn, .action-btn {

        width: 100%;

        padding: 8px;

        margin-top: 10px;

        border: none;

        border-radius: 5px;

        cursor: pointer;

        font-weight: bold;

    }

    .invert-btn {

        background: #007bff;

        color: white;

    }

    .action-btn {

        background: #28a745;

        color: white;

    }

    .hidden {

        display: none !important;

    }

    /* Estilos del Slider */

    .slider-container {

        display: flex;

        align-items: center;

        margin-bottom: 15px;

    }

    .slider-container span {

        font-size: 0.8em;

        padding: 0 5px;

    }

    #intensity {

        flex-grow: 1;

    }

  </style>

  <script src="js/iman_barra.js" defer></script>

</body>

</html>